/*
 * myClock.h
 *
 *  Created on: Jun 21, 2022
 *      Author: student
 */
#include <stdint.h>
#include "MyMain.h"

#ifndef INC_CLOCK_H_
#define INC_CLOCK_H_

/*typedef enum timestate_{
	TIME_ON,
	TIME_OFF,
} TIME_STATE;
*/

typedef struct _sysTime{

	//uint16_t year;
	//uint16_t month;
	//uint16_t day;
	uint16_t hour;
	uint16_t minute;
	uint16_t second;
	uint32_t milliSecond;
} SYSTIME;

typedef struct _clock{
	//TIME_STATE timeState;
	SYSTIME sysTime;
	TIM_HandleTypeDef *htim;
} CLOCK;


void clockInit(CLOCK *clk,TIM_HandleTypeDef *htim);
void clockOnInterrupt(CLOCK *clk,TIM_HandleTypeDef *htim);
uint32_t clockGetMilliSecond(CLOCK *clk){return clk->sysTime.milliSecond;}
uint16_t clockGetSecond(CLOCK *clk){return clk->sysTime.second;}
uint16_t clockGetMinute(CLOCK *clk){return clk->sysTime.minute;}
uint16_t clockGetHour(CLOCK *clk){return clk->sysTime.hour;}



#endif /* INC_CLOCK_H_ */
