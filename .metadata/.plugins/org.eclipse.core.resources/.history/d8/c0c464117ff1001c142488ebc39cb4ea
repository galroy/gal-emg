/*
 * MyMain.c
 *
 *  Created on: Jun 21, 2022
 *      Author: student
 */
#include "MyMain.h"
#include "LedControl.h"

extern TIM_HandleTypeDef htim4;

LED ledR;
LED ledB;

void HAL_GPIO_EXTI_Callback(uint16_t GPIO_Pin){
	/*static int b = 0;
		if(b<=10)
		{
			setBrightness(&ledR, b);
			b++;
		}
		else{
			b=0;
		}*/
	ledOff(&ledB);
	ledOff(&ledR);

}

//start
void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim){
	//ledOn(&ledB);
	//ledOn(&ledR);
}
//end cicale
/*void HAL_TIM_PWM_PulseFinishedCallback(TIM_HandleTypeDef *htim){
	ledOff(&ledB);
}*/




  //HAL_TIM_Base_Init(&htim4);
  //HAL_TIM_Base_Start_IT(&htim4);

  //HAL_TIM_PWM_Start_IT(&htim4, TIM_CHANNEL_1);
  //setBrightness(&ledB, 10);
int mainLoop(){
	HAL_TIM_Base_Init(&htim4);
	HAL_TIM_Base_Start_IT(&htim4);

	HAL_TIM_PWM_Start_IT(&htim4, TIM_CHANNEL_1);
	//setBrightness(&ledB, 10);
	ledInit(&ledB,LD2_GPIO_Port,LD2_Pin);
	ledInit(&ledR, LD3_GPIO_Port, LD3_Pin);
	ledOn(&ledB);
	ledOn(&ledR);
	while(1){

	}
}


